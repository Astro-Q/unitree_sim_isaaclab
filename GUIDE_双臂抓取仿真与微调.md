# Unitreeæœºå™¨äººåŒè‡‚æŠ“å–ä»¿çœŸã€æ•°æ®é‡‡é›†ä¸æ¨¡å‹å¾®è°ƒå®Œæ•´æŒ‡å—

## ğŸ“‹ ç›®å½•

1. [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
2. [ç¯å¢ƒæ­å»º](#ç¯å¢ƒæ­å»º)
3. [åŒè‡‚æŠ“å–ä»¿çœŸé…ç½®](#åŒè‡‚æŠ“å–ä»¿çœŸé…ç½®)
4. [æ•°æ®é‡‡é›†æ–¹æ³•](#æ•°æ®é‡‡é›†æ–¹æ³•)
5. [æ¨¡å‹å¾®è°ƒæµç¨‹](#æ¨¡å‹å¾®è°ƒæµç¨‹)
6. [å®æˆ˜ç¤ºä¾‹](#å®æˆ˜ç¤ºä¾‹)
7. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## ğŸ“– é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®åŸºäº **Isaac Lab** å’Œ **Isaac Sim** æ„å»ºï¼Œä¸ºå®‡æ ‘ï¼ˆUnitreeï¼‰G1/H1-2 äººå½¢æœºå™¨äººæä¾›åŒè‡‚æŠ“å–ä»¿çœŸç¯å¢ƒã€‚é¡¹ç›®é‡‡ç”¨ä¸çœŸå®æœºå™¨äººç›¸åŒçš„ **DDS é€šä¿¡åè®®**ï¼Œç¡®ä¿ä»¿çœŸä¸å®æœºä»£ç çš„é€šç”¨æ€§ã€‚

### æ ¸å¿ƒç‰¹æ€§

- âœ… **åŒè‡‚ååŒæŠ“å–**ï¼šæ”¯æŒ G1-29dof å’Œ H1-2-27dof æœºå™¨äººçš„åŒè‡‚æ“ä½œ
- âœ… **å¤šç§æœ«ç«¯æ‰§è¡Œå™¨**ï¼šæ”¯æŒ Dex1ï¼ˆäºŒæŒ‡å¤¹çˆªï¼‰ã€Dex3ï¼ˆä¸‰æŒ‡çµå·§æ‰‹ï¼‰ã€Inspireï¼ˆå¤šæŒ‡çµå·§æ‰‹ï¼‰
- âœ… **DDS é€šä¿¡**ï¼šä¸çœŸå®æœºå™¨äººä½¿ç”¨ç›¸åŒçš„é€šä¿¡åè®®
- âœ… **æ•°æ®é‡‡é›†**ï¼šæ”¯æŒé¥æ“ä½œæ•°æ®é‡‡é›†ã€æ•°æ®å›æ”¾å’Œæ•°æ®å¢å¼ºç”Ÿæˆ
- âœ… **æ¨¡å‹éªŒè¯**ï¼šå¯åœ¨ä»¿çœŸç¯å¢ƒä¸­éªŒè¯è®­ç»ƒå¥½çš„æ¨¡å‹

### æ”¯æŒçš„æœºå™¨äººé…ç½®

| æœºå™¨äººå‹å· | è‡ªç”±åº¦ | æ”¯æŒçš„æœ«ç«¯æ‰§è¡Œå™¨ | ä»»åŠ¡ç±»å‹ |
|---------|--------|----------------|---------|
| G1 | 29dof | Dex1, Dex3, Inspire | å›ºå®šåŸºåº§/å…¨èº«ç§»åŠ¨ |
| H1-2 | 27dof | Inspire | å›ºå®šåŸºåº§ |

---

## âš™ï¸ ç¯å¢ƒæ­å»º

### 1. ç³»ç»Ÿè¦æ±‚

**ç¡¬ä»¶è¦æ±‚ï¼š**
- GPU: RTX 3080/3090/4090 æˆ–æ›´é«˜ï¼ˆRTX 50ç³»åˆ—éœ€ä½¿ç”¨ Isaac Sim 5.0ï¼‰
- å†…å­˜: 16GB+ æ¨è
- å­˜å‚¨: 50GB+ å¯ç”¨ç©ºé—´

**è½¯ä»¶è¦æ±‚ï¼š**
- Ubuntu 20.04 / 22.04
- Python 3.8+
- CUDA 11.8+ / 12.2+

### 2. Isaac Sim å®‰è£…

æ ¹æ®æ‚¨çš„ GPU å‹å·é€‰æ‹©å®‰è£…ç‰ˆæœ¬ï¼š

#### 2.1 RTX 4080 åŠä»¥ä¸‹ï¼ˆæ¨è Isaac Sim 4.5.0ï¼‰

```bash
# å‚è€ƒå®‰è£…æ–‡æ¡£
cat doc/isaacsim4.5_install_zh.md
```

#### 2.2 RTX 4080 åŠä»¥ä¸Šï¼ˆæ¨è Isaac Sim 5.0.0ï¼‰

```bash
# å‚è€ƒå®‰è£…æ–‡æ¡£
cat doc/isaacsim5.0_install_zh.md
```

### 3. é¡¹ç›®ä¾èµ–å®‰è£…

```bash
# å…‹éš†é¡¹ç›®ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
git clone <repository_url>
cd unitree_sim_isaaclab

# å®‰è£… Python ä¾èµ–
pip install -r requirements.txt

# å®‰è£… git-lfsï¼ˆç”¨äºä¸‹è½½èµ„äº§æ–‡ä»¶ï¼‰
sudo apt update
sudo apt install git-lfs

# ä¸‹è½½å¿…è¦çš„èµ„äº§æ–‡ä»¶
. fetch_assets.sh
```

### 4. Docker ç¯å¢ƒï¼ˆå¯é€‰ï¼‰

å¦‚æœæ‚¨ä½¿ç”¨ Docker ç¯å¢ƒï¼š

```bash
# æ„å»º Docker é•œåƒ
sudo docker pull nvidia/cuda:12.2.0-runtime-ubuntu22.04
sudo docker build \
  --build-arg http_proxy=http://127.0.0.1:7890 \
  --build-arg https_proxy=http://127.0.0.1:7890 \
  -t unitree-sim:latest -f Dockerfile .

# è¿è¡Œ Docker å®¹å™¨
xhost +local:docker
sudo docker run --gpus all -it --rm \
  --network host \
  -e NVIDIA_VISIBLE_DEVICES=all \
  -e DISPLAY=$DISPLAY \
  -v /tmp/.X11-unix:/tmp/.X11-unix:rw \
  -v $(pwd):/workspace \
  unitree-sim /bin/bash
```

---

## ğŸ¤– åŒè‡‚æŠ“å–ä»¿çœŸé…ç½®

### 1. ç†è§£ä»»åŠ¡ç»“æ„

é¡¹ç›®ä¸­çš„ä»»åŠ¡æŒ‰ä»¥ä¸‹ç»“æ„ç»„ç»‡ï¼š

```
tasks/
â”œâ”€â”€ common_scene/          # å…¬å…±åœºæ™¯é…ç½®ï¼ˆå¦‚æŠ“å–åœ†æŸ±ä½“ã€çº¢è‰²æ–¹å—ç­‰ï¼‰
â”œâ”€â”€ common_observations/   # è§‚æµ‹æ•°æ®è·å–ï¼ˆç›¸æœºã€æœºå™¨äººçŠ¶æ€ã€æ‰‹éƒ¨çŠ¶æ€ï¼‰
â”œâ”€â”€ common_termination/    # ç»ˆæ­¢æ¡ä»¶åˆ¤æ–­
â”œâ”€â”€ g1_tasks/             # G1 æœºå™¨äººä»»åŠ¡
â”‚   â”œâ”€â”€ pick_place_cylinder_g1_29dof_dex1/
â”‚   â”œâ”€â”€ pick_place_cylinder_g1_29dof_dex3/
â”‚   â”œâ”€â”€ pick_place_cylinder_g1_29dof_inspire/
â”‚   â””â”€â”€ ...
â””â”€â”€ h1-2_tasks/           # H1-2 æœºå™¨äººä»»åŠ¡
```

### 2. å¯åŠ¨åŒè‡‚æŠ“å–ä»¿çœŸ

#### 2.1 G1 æœºå™¨äºº + Dex1 å¤¹çˆªï¼ˆäºŒæŒ‡ï¼‰

```bash
python sim_main.py \
  --device cuda \
  --enable_cameras \
  --task Isaac-PickPlace-Cylinder-G129-Dex1-Joint \
  --enable_dex1_dds \
  --robot_type g129
```

#### 2.2 G1 æœºå™¨äºº + Dex3 çµå·§æ‰‹ï¼ˆä¸‰æŒ‡ï¼‰

```bash
python sim_main.py \
  --device cuda \
  --enable_cameras \
  --task Isaac-PickPlace-Cylinder-G129-Dex3-Joint \
  --enable_dex3_dds \
  --robot_type g129
```

#### 2.3 G1 æœºå™¨äºº + Inspire çµå·§æ‰‹ï¼ˆå¤šæŒ‡ï¼‰

```bash
python sim_main.py \
  --device cuda \
  --enable_cameras \
  --task Isaac-PickPlace-Cylinder-G129-Inspire-Joint \
  --enable_inspire_dds \
  --robot_type g129
```

#### 2.4 H1-2 æœºå™¨äºº + Inspire çµå·§æ‰‹

```bash
python sim_main.py \
  --device cuda \
  --enable_cameras \
  --task Isaac-PickPlace-Cylinder-H12-27dof-Inspire-Joint \
  --enable_inspire_dds \
  --robot_type h1_2
```

### 3. å¯ç”¨çš„åŒè‡‚æŠ“å–ä»»åŠ¡

| ä»»åŠ¡åç§° | æè¿° | æœºå™¨äºº | æœ«ç«¯æ‰§è¡Œå™¨ |
|---------|------|--------|-----------|
| `Isaac-PickPlace-Cylinder-G129-Dex1-Joint` | æŠ“å–åœ†æŸ±ä½“ | G1 | Dex1 |
| `Isaac-PickPlace-Cylinder-G129-Dex3-Joint` | æŠ“å–åœ†æŸ±ä½“ | G1 | Dex3 |
| `Isaac-PickPlace-Cylinder-G129-Inspire-Joint` | æŠ“å–åœ†æŸ±ä½“ | G1 | Inspire |
| `Isaac-PickPlace-RedBlock-G129-Dex1-Joint` | æŠ“å–çº¢è‰²æ–¹å— | G1 | Dex1 |
| `Isaac-PickPlace-RedBlock-G129-Dex3-Joint` | æŠ“å–çº¢è‰²æ–¹å— | G1 | Dex3 |
| `Isaac-Stack-RgyBlock-G129-Dex1-Joint` | å †å æ–¹å— | G1 | Dex1 |
| `Isaac-Move-Cylinder-G129-Dex1-Wholebody` | ç§»åŠ¨æŠ“å–ï¼ˆå…¨èº«ï¼‰ | G1 | Dex1 |

### 4. åˆ›å»ºè‡ªå®šä¹‰åŒè‡‚æŠ“å–ä»»åŠ¡

å¦‚æœæ‚¨æƒ³åˆ›å»ºæ–°çš„åŒè‡‚æŠ“å–ä»»åŠ¡ï¼ŒæŒ‰ç…§ä»¥ä¸‹æ­¥éª¤ï¼š

#### æ­¥éª¤ 1: åˆ›å»ºä»»åŠ¡ç›®å½•

```bash
cd tasks/g1_tasks
mkdir my_dual_arm_task_g1_29dof_dex1
cd my_dual_arm_task_g1_29dof_dex1
mkdir mdp
```

#### æ­¥éª¤ 2: åˆ›å»ºè§‚æµ‹æ–‡ä»¶ (`mdp/observations.py`)

```python
# Copyright (c) 2025, Unitree Robotics Co., Ltd. All Rights Reserved.
# License: Apache License, Version 2.0  

from tasks.common_observations.g1_29dof_state import get_robot_boy_joint_states
from tasks.common_observations.gripper_state import get_robot_gipper_joint_states
from tasks.common_observations.camera_state import get_camera_image

__all__ = [
    "get_robot_boy_joint_states",
    "get_robot_gipper_joint_states", 
    "get_camera_image"
]
```

#### æ­¥éª¤ 3: åˆ›å»ºç»ˆæ­¢æ¡ä»¶æ–‡ä»¶ (`mdp/terminations.py`)

```python
from tasks.common_termination.base_termination_pick_place_cylinder import reset_object_estimate

__all__ = [
    "reset_object_estimate"
]
```

#### æ­¥éª¤ 4: åˆ›å»ºä»»åŠ¡æ³¨å†Œæ–‡ä»¶ (`__init__.py`)

```python
# Copyright (c) 2025, Unitree Robotics Co., Ltd. All Rights Reserved.
# License: Apache License, Version 2.0  

import gymnasium as gym
from . import my_task_env_cfg

gym.register(
    id="Isaac-MyDualArmTask-G129-Dex1-Joint",
    entry_point="isaaclab.envs:ManagerBasedRLEnv",
    kwargs={
        "env_cfg_entry_point": my_task_env_cfg.MyDualArmTaskEnvCfg,
    },
    disable_env_checker=True,
)
```

#### æ­¥éª¤ 5: åˆ›å»ºç¯å¢ƒé…ç½®æ–‡ä»¶ (`my_task_env_cfg.py`)

å‚è€ƒç°æœ‰ä»»åŠ¡çš„é…ç½®æ–‡ä»¶ï¼Œå¯¼å…¥å…¬å…±åœºæ™¯å¹¶é…ç½®æœºå™¨äººä½ç½®ã€ç›¸æœºç­‰ã€‚

---

## ğŸ“Š æ•°æ®é‡‡é›†æ–¹æ³•

### 1. é¥æ“ä½œæ•°æ®é‡‡é›†

é¥æ“ä½œæ˜¯æœ€å¸¸ç”¨çš„æ•°æ®é‡‡é›†æ–¹å¼ï¼Œéœ€è¦é…åˆ [xr_teleoperate](https://github.com/unitreerobotics/xr_teleoperate) é¡¹ç›®ä½¿ç”¨ã€‚

#### 1.1 å¯åŠ¨ä»¿çœŸç¯å¢ƒ

```bash
python sim_main.py \
  --device cuda \
  --enable_cameras \
  --task Isaac-PickPlace-Cylinder-G129-Dex1-Joint \
  --enable_dex1_dds \
  --robot_type g129
```

#### 1.2 å¯åŠ¨é¥æ“ä½œå®¢æˆ·ç«¯

åœ¨å¦ä¸€ä¸ªç»ˆç«¯ä¸­å¯åŠ¨é¥æ“ä½œå®¢æˆ·ç«¯ï¼ˆå‚è€ƒ xr_teleoperate é¡¹ç›®æ–‡æ¡£ï¼‰ï¼š

```bash
# é¥æ“ä½œå®¢æˆ·ç«¯ä¼šè‡ªåŠ¨é€šè¿‡ DDS æ¥æ”¶ä»¿çœŸç¯å¢ƒçš„æ•°æ®
# å¹¶å‘é€æ§åˆ¶å‘½ä»¤å›ä»¿çœŸç¯å¢ƒ
```

#### 1.3 æ•°æ®ä¿å­˜

æ•°æ®ä¼šè‡ªåŠ¨ä¿å­˜åˆ° `xr_teleoperate/teleop/utils/data` ç›®å½•ä¸‹ï¼Œæ ¼å¼ä¸ºï¼š

```
data/
â”œâ”€â”€ episode_0000/
â”‚   â”œâ”€â”€ colors/          # RGB å›¾åƒ
â”‚   â”œâ”€â”€ depths/          # æ·±åº¦å›¾åƒ
â”‚   â”œâ”€â”€ audios/          # éŸ³é¢‘æ•°æ®
â”‚   â””â”€â”€ data.json        # å…ƒæ•°æ®å’ŒçŠ¶æ€ä¿¡æ¯
â”œâ”€â”€ episode_0001/
â””â”€â”€ ...
```

### 2. æ•°æ®å›æ”¾

ä½¿ç”¨å·²é‡‡é›†çš„æ•°æ®è¿›è¡Œå›æ”¾ï¼Œç”¨äºéªŒè¯æˆ–åˆ†æï¼š

```bash
python sim_main.py \
  --device cuda \
  --enable_cameras \
  --task Isaac-PickPlace-Cylinder-G129-Dex1-Joint \
  --enable_dex1_dds \
  --robot_type g129 \
  --replay_data \
  --file_path "/path/to/your/data"
```

**æ³¨æ„äº‹é¡¹ï¼š**
- æ•°æ®é›†æ ¼å¼éœ€ä¸ xr_teleoperate å½•åˆ¶çš„æ ¼å¼ä¸€è‡´
- ä»»åŠ¡åç§°å¿…é¡»ä¸æ•°æ®é›†ä¸­çš„ä»»åŠ¡åç§°åŒ¹é…

### 3. æ•°æ®å¢å¼ºç”Ÿæˆ

é€šè¿‡åœ¨æ•°æ®å›æ”¾è¿‡ç¨‹ä¸­ä¿®æ”¹å…‰ç…§æ¡ä»¶å’Œç›¸æœºå‚æ•°ï¼Œç”Ÿæˆå¤šæ ·åŒ–çš„å¢å¼ºæ•°æ®ï¼š

```bash
python sim_main.py \
  --device cuda \
  --enable_cameras \
  --task Isaac-PickPlace-Cylinder-G129-Dex1-Joint \
  --enable_dex1_dds \
  --robot_type g129 \
  --replay_data \
  --file_path "/path/to/original/data" \
  --generate_data \
  --generate_data_dir "./augmented_data" \
  --modify_light \
  --modify_camera
```

**å‚æ•°è¯´æ˜ï¼š**
- `--generate_data`: å¯ç”¨æ•°æ®ç”Ÿæˆ
- `--generate_data_dir`: æ–°æ•°æ®ä¿å­˜ç›®å½•
- `--modify_light`: ä¿®æ”¹å…‰ç…§æ¡ä»¶ï¼ˆéœ€åœ¨ä»£ç ä¸­è°ƒæ•´ `update_light` å‡½æ•°ï¼‰
- `--modify_camera`: ä¿®æ”¹ç›¸æœºå‚æ•°ï¼ˆéœ€åœ¨ä»£ç ä¸­è°ƒæ•´ `batch_augment_cameras_by_name` å‡½æ•°ï¼‰

**è‡ªå®šä¹‰å…‰ç…§å’Œç›¸æœºå‚æ•°ï¼š**

ç¼–è¾‘ `sim_main.py` ä¸­çš„ç›¸å…³å‡½æ•°ï¼š

```python
# ä¿®æ”¹å…‰ç…§
if args_cli.modify_light:
    update_light(
        prim_path="/World/light",
        color=(0.75, 0.75, 0.75),  # RGB é¢œè‰²
        intensity=500.0,            # å…‰ç…§å¼ºåº¦
        radius=0.1,
        enabled=True,
        cast_shadows=True
    )

# ä¿®æ”¹ç›¸æœºå‚æ•°
if args_cli.modify_camera:
    batch_augment_cameras_by_name(
        names=["front_camera", "left_wrist_camera", "right_wrist_camera"],
        focal_length=3.0,          # ç„¦è·
        horizontal_aperture=22.0,  # æ°´å¹³å­”å¾„
        vertical_aperture=16.0,    # å‚ç›´å­”å¾„
        exposure=0.8,              # æ›å…‰
        focus_distance=1.2        # å¯¹ç„¦è·ç¦»
    )
```

### 4. æ•°æ®æ ¼å¼è¯´æ˜

é‡‡é›†çš„æ•°æ®ä»¥ JSON æ ¼å¼å­˜å‚¨ï¼ŒåŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š

```json
{
  "info": {
    "version": "1.0.0",
    "date": "2025-01-01",
    "image": {"width": 640, "height": 480, "fps": 30},
    "joint_names": {
      "left_arm": [...],
      "right_arm": [...]
    },
    "sim_state": {...}
  },
  "text": {
    "goal": "ä»»åŠ¡ç›®æ ‡æè¿°",
    "desc": "ä»»åŠ¡è¯¦ç»†æè¿°",
    "steps": "æ­¥éª¤è¯´æ˜"
  },
  "data": [
    {
      "idx": 0,
      "colors": {"front_camera": "colors/000000_front_camera.jpg", ...},
      "depths": {...},
      "states": {...},      # æœºå™¨äººå…³èŠ‚çŠ¶æ€
      "actions": {...},     # åŠ¨ä½œæŒ‡ä»¤
      "tactiles": {...},    # è§¦è§‰æ•°æ®ï¼ˆå¦‚æœæœ‰ï¼‰
      "audios": {...}       # éŸ³é¢‘æ•°æ®ï¼ˆå¦‚æœæœ‰ï¼‰
    },
    ...
  ]
}
```

---

## ğŸ¯ æ¨¡å‹å¾®è°ƒæµç¨‹

### 1. æ•°æ®å‡†å¤‡

#### 1.1 æ•°æ®æ”¶é›†

ä½¿ç”¨é¥æ“ä½œæ”¶é›†è¶³å¤Ÿçš„æ•°æ®ï¼ˆå»ºè®®è‡³å°‘ 100-500 ä¸ª episodeï¼‰ï¼š

```bash
# æ”¶é›†å¤šä¸ªä»»åŠ¡çš„æ•°æ®
# - æŠ“å–åœ†æŸ±ä½“
# - æŠ“å–çº¢è‰²æ–¹å—
# - å †å æ–¹å—
# ç­‰
```

#### 1.2 æ•°æ®é¢„å¤„ç†

å°†æ•°æ®è½¬æ¢ä¸ºæ¨¡å‹è®­ç»ƒæ‰€éœ€çš„æ ¼å¼ï¼š

```python
# ç¤ºä¾‹ï¼šæ•°æ®åŠ è½½å’Œé¢„å¤„ç†è„šæœ¬
from tools.data_json_load import get_data_json_list, load_episode_data

# åŠ è½½æ•°æ®åˆ—è¡¨
data_list = get_data_json_list("/path/to/data")

# å¤„ç†æ¯ä¸ª episode
for episode_path in data_list:
    episode_data = load_episode_data(episode_path)
    # è¿›è¡Œæ•°æ®é¢„å¤„ç†
    # - å›¾åƒå½’ä¸€åŒ–
    # - åŠ¨ä½œå½’ä¸€åŒ–
    # - æ•°æ®å¢å¼º
    # ...
```

### 2. æ¨¡å‹è®­ç»ƒ

#### 2.1 ä½¿ç”¨å¼ºåŒ–å­¦ä¹ æ¡†æ¶

æœ¬é¡¹ç›®æ”¯æŒå¤šç§ RL æ¡†æ¶ï¼Œæ¨èä½¿ç”¨ï¼š

- **Isaac Lab å†…ç½®çš„ RL è®­ç»ƒå™¨**
- **RLlib**
- **Stable Baselines3**

#### 2.2 è®­ç»ƒé…ç½®ç¤ºä¾‹

```python
# è®­ç»ƒé…ç½®ç¤ºä¾‹ï¼ˆä¼ªä»£ç ï¼‰
from isaaclab_tasks.utils.parse_cfg import parse_env_cfg
import gymnasium as gym

# è§£æç¯å¢ƒé…ç½®
env_cfg = parse_env_cfg(
    "Isaac-PickPlace-Cylinder-G129-Dex1-Joint",
    device="cuda",
    num_envs=4096  # å¹¶è¡Œç¯å¢ƒæ•°é‡
)

# åˆ›å»ºç¯å¢ƒ
env = gym.make("Isaac-PickPlace-Cylinder-G129-Dex1-Joint", cfg=env_cfg)

# é…ç½®è®­ç»ƒå‚æ•°
train_cfg = {
    "total_timesteps": 10_000_000,
    "learning_rate": 3e-4,
    "batch_size": 16384,
    "gamma": 0.99,
    # ... å…¶ä»–è¶…å‚æ•°
}

# å¼€å§‹è®­ç»ƒ
trainer.train(env, train_cfg)
```

### 3. æ¨¡å‹éªŒè¯

#### 3.1 åœ¨ä»¿çœŸç¯å¢ƒä¸­æµ‹è¯•

```bash
# ä½¿ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹è¿›è¡Œæµ‹è¯•
python sim_main.py \
  --device cuda \
  --enable_cameras \
  --task Isaac-PickPlace-Cylinder-G129-Dex1-Joint \
  --enable_dex1_dds \
  --robot_type g129 \
  --action_source policy \
  --model_path "path/to/trained/model.onnx"
```

#### 3.2 è¯„ä¼°æŒ‡æ ‡

- **æˆåŠŸç‡**ï¼šå®Œæˆä»»åŠ¡çš„ episode æ¯”ä¾‹
- **å¹³å‡å¥–åŠ±**ï¼šæ¯ä¸ª episode çš„å¹³å‡å¥–åŠ±å€¼
- **æ‰§è¡Œæ—¶é—´**ï¼šå®Œæˆä»»åŠ¡çš„å¹³å‡æ—¶é—´
- **ç¨³å®šæ€§**ï¼šå¤šæ¬¡è¿è¡Œçš„ä¸€è‡´æ€§

### 4. æ¨¡å‹å¾®è°ƒæŠ€å·§

#### 4.1 ä»é¢„è®­ç»ƒæ¨¡å‹å¼€å§‹

```python
# åŠ è½½é¢„è®­ç»ƒæ¨¡å‹
pretrained_model = load_model("path/to/pretrained/model.pth")

# å†»ç»“éƒ¨åˆ†å±‚ï¼ˆå¯é€‰ï¼‰
for param in pretrained_model.backbone.parameters():
    param.requires_grad = False

# åªè®­ç»ƒç‰¹å®šå±‚
optimizer = torch.optim.Adam(
    pretrained_model.head.parameters(),
    lr=1e-5  # è¾ƒå°çš„å­¦ä¹ ç‡
)
```

#### 4.2 è¯¾ç¨‹å­¦ä¹ ï¼ˆCurriculum Learningï¼‰

é€æ­¥å¢åŠ ä»»åŠ¡éš¾åº¦ï¼š

1. **ç®€å•ä»»åŠ¡**ï¼šå›ºå®šä½ç½®æŠ“å–
2. **ä¸­ç­‰ä»»åŠ¡**ï¼šéšæœºä½ç½®æŠ“å–
3. **å›°éš¾ä»»åŠ¡**ï¼šå¤æ‚åœºæ™¯æŠ“å–

#### 4.3 æ•°æ®å¢å¼º

ä½¿ç”¨æ•°æ®å¢å¼ºæé«˜æ¨¡å‹æ³›åŒ–èƒ½åŠ›ï¼š

```python
# å›¾åƒå¢å¼º
augmentations = [
    RandomBrightness(0.2),
    RandomContrast(0.2),
    RandomRotation(5),
    RandomCrop(0.9),
    # ...
]
```

#### 4.4 åŸŸéšæœºåŒ–ï¼ˆDomain Randomizationï¼‰

åœ¨ä»¿çœŸç¯å¢ƒä¸­éšæœºåŒ–ç‰©ç†å‚æ•°ï¼š

```python
# éšæœºåŒ–ç‰©ä½“å±æ€§
object_mass_range = (0.1, 2.0)
object_friction_range = (0.3, 1.5)

# éšæœºåŒ–å…‰ç…§
light_intensity_range = (300.0, 800.0)

# éšæœºåŒ–ç›¸æœºå‚æ•°
camera_noise_range = (0.0, 0.1)
```

---

## ğŸ’¡ å®æˆ˜ç¤ºä¾‹

### ç¤ºä¾‹ 1: å®Œæ•´çš„åŒè‡‚æŠ“å–æ•°æ®é‡‡é›†æµç¨‹

```bash
# æ­¥éª¤ 1: å¯åŠ¨ä»¿çœŸç¯å¢ƒ
python sim_main.py \
  --device cuda \
  --enable_cameras \
  --task Isaac-PickPlace-Cylinder-G129-Dex1-Joint \
  --enable_dex1_dds \
  --robot_type g129

# æ­¥éª¤ 2: åœ¨å¦ä¸€ä¸ªç»ˆç«¯å¯åŠ¨é¥æ“ä½œå®¢æˆ·ç«¯
# ï¼ˆå‚è€ƒ xr_teleoperate é¡¹ç›®ï¼‰

# æ­¥éª¤ 3: è¿›è¡Œé¥æ“ä½œï¼Œæ•°æ®è‡ªåŠ¨ä¿å­˜

# æ­¥éª¤ 4: æ•°æ®å›æ”¾éªŒè¯
python sim_main.py \
  --device cuda \
  --enable_cameras \
  --task Isaac-PickPlace-Cylinder-G129-Dex1-Joint \
  --enable_dex1_dds \
  --robot_type g129 \
  --replay_data \
  --file_path "/path/to/collected/data"
```

### ç¤ºä¾‹ 2: æ•°æ®å¢å¼ºç”Ÿæˆ

```bash
# åŸºäºåŸå§‹æ•°æ®ç”Ÿæˆå¢å¼ºæ•°æ®
python sim_main.py \
  --device cuda \
  --enable_cameras \
  --task Isaac-PickPlace-Cylinder-G129-Dex1-Joint \
  --enable_dex1_dds \
  --robot_type g129 \
  --replay_data \
  --file_path "/path/to/original/data" \
  --generate_data \
  --generate_data_dir "./augmented_data_v1" \
  --modify_light \
  --modify_camera \
  --rerun_log
```

### ç¤ºä¾‹ 3: æ— å¤´æ¨¡å¼è¿è¡Œï¼ˆç”¨äºå¤§è§„æ¨¡æ•°æ®ç”Ÿæˆï¼‰

```bash
python sim_main.py \
  --device cuda \
  --enable_cameras \
  --task Isaac-PickPlace-Cylinder-G129-Dex1-Joint \
  --enable_dex1_dds \
  --robot_type g129 \
  --headless \
  --replay_data \
  --file_path "/path/to/data" \
  --generate_data \
  --generate_data_dir "./augmented_data_batch"
```

### ç¤ºä¾‹ 4: æ€§èƒ½ä¼˜åŒ–é…ç½®

```bash
# ä¼˜åŒ–æ€§èƒ½çš„å‚æ•°é…ç½®
python sim_main.py \
  --device cuda \
  --enable_cameras \
  --task Isaac-PickPlace-Cylinder-G129-Dex1-Joint \
  --enable_dex1_dds \
  --robot_type g129 \
  --physics_dt 0.005 \
  --render_interval 2 \
  --camera_write_interval 1 \
  --solver_iterations 4 \
  --step_hz 100
```

---

## â“ å¸¸è§é—®é¢˜

### Q1: DDS é€šä¿¡å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

**A:** ç¡®ä¿ï¼š
1. DDS ä½¿ç”¨ç›¸åŒçš„é€šé“ï¼ˆChannel 1ï¼‰
2. ç½‘ç»œé…ç½®æ­£ç¡®
3. æ²¡æœ‰å…¶ä»– DDS å®ä¾‹å†²çª

```python
# åœ¨ä»£ç ä¸­è®¾ç½® DDS é€šé“
ChannelFactoryInitialize(1)
```

### Q2: ä»¿çœŸè¿è¡Œç¼“æ…¢æ€ä¹ˆåŠï¼Ÿ

**A:** å°è¯•ä»¥ä¸‹ä¼˜åŒ–ï¼š
- ä½¿ç”¨ `--headless` æ¨¡å¼ï¼ˆæ—  GUIï¼‰
- å¢åŠ  `--render_interval`ï¼ˆå‡å°‘æ¸²æŸ“é¢‘ç‡ï¼‰
- è°ƒæ•´ `--physics_dt`ï¼ˆå¢å¤§ç‰©ç†æ—¶é—´æ­¥ï¼‰
- å‡å°‘ç›¸æœºæ•°é‡æˆ–åˆ†è¾¨ç‡

### Q3: å¦‚ä½•æ·»åŠ æ–°çš„æœ«ç«¯æ‰§è¡Œå™¨ï¼Ÿ

**A:** 
1. åœ¨ `robots/unitree.py` ä¸­æ·»åŠ æ–°çš„æœºå™¨äººé…ç½®
2. åˆ›å»ºå¯¹åº”çš„ DDS é€šä¿¡æ¨¡å—ï¼ˆå‚è€ƒ `dds/` ç›®å½•ï¼‰
3. æ›´æ–°ä»»åŠ¡é…ç½®æ–‡ä»¶

### Q4: æ•°æ®é‡‡é›†æ—¶å›¾åƒè´¨é‡ä¸ä½³ï¼Ÿ

**A:** 
- æ£€æŸ¥ç›¸æœºé…ç½®ï¼ˆ`tasks/common_config/camera_configs.py`ï¼‰
- è°ƒæ•´å…‰ç…§æ¡ä»¶
- ä½¿ç”¨ `--camera_jpeg_quality` å‚æ•°è°ƒæ•´ JPEG è´¨é‡

### Q5: å¦‚ä½•å°†ä»¿çœŸæ¨¡å‹éƒ¨ç½²åˆ°çœŸå®æœºå™¨äººï¼Ÿ

**A:** 
1. ç¡®ä¿ä½¿ç”¨ç›¸åŒçš„ DDS é€šä¿¡åè®®
2. è¿›è¡ŒåŸŸé€‚åº”ï¼ˆDomain Adaptationï¼‰
3. åœ¨çœŸå®ç¯å¢ƒä¸­è¿›è¡Œå°‘é‡å¾®è°ƒ
4. é€æ­¥éªŒè¯å’Œè°ƒæ•´

---

## ğŸ“š ç›¸å…³èµ„æº

- **Isaac Lab å®˜æ–¹æ–‡æ¡£**: https://isaac-sim.github.io/IsaacLab/
- **Unitree SDK2**: https://github.com/unitreerobotics/unitree_sdk2_python
- **xr_teleoperate**: https://github.com/unitreerobotics/xr_teleoperate
- **Discord ç¤¾åŒº**: https://discord.gg/ZwcVwxv5rq

---

## ğŸ“ æ€»ç»“

æœ¬æŒ‡å—æ¶µç›–äº†ä½¿ç”¨ Unitree æœºå™¨äººå’Œå¼€æºå¹³å°è¿›è¡ŒåŒè‡‚æŠ“å–ä»¿çœŸã€æ•°æ®é‡‡é›†å’Œæ¨¡å‹å¾®è°ƒçš„å®Œæ•´æµç¨‹ã€‚å…³é”®æ­¥éª¤åŒ…æ‹¬ï¼š

1. âœ… **ç¯å¢ƒæ­å»º**ï¼šå®‰è£… Isaac Sim å’Œé¡¹ç›®ä¾èµ–
2. âœ… **ä»¿çœŸé…ç½®**ï¼šé€‰æ‹©åˆé€‚çš„ä»»åŠ¡å’Œæœºå™¨äººé…ç½®
3. âœ… **æ•°æ®é‡‡é›†**ï¼šé€šè¿‡é¥æ“ä½œæ”¶é›†é«˜è´¨é‡æ•°æ®
4. âœ… **æ•°æ®å¢å¼º**ï¼šç”Ÿæˆå¤šæ ·åŒ–çš„è®­ç»ƒæ•°æ®
5. âœ… **æ¨¡å‹è®­ç»ƒ**ï¼šä½¿ç”¨ RL æ¡†æ¶è®­ç»ƒç­–ç•¥
6. âœ… **æ¨¡å‹éªŒè¯**ï¼šåœ¨ä»¿çœŸç¯å¢ƒä¸­æµ‹è¯•æ¨¡å‹æ€§èƒ½

é€šè¿‡éµå¾ªæœ¬æŒ‡å—ï¼Œæ‚¨åº”è¯¥èƒ½å¤ŸæˆåŠŸæ­å»ºåŒè‡‚æŠ“å–ä»¿çœŸç¯å¢ƒï¼Œæ”¶é›†æ•°æ®ï¼Œå¹¶è®­ç»ƒå‡ºé«˜æ€§èƒ½çš„æŠ“å–ç­–ç•¥æ¨¡å‹ã€‚

å¦‚æœ‰é—®é¢˜ï¼Œè¯·å‚è€ƒé¡¹ç›®æ–‡æ¡£æˆ–è”ç³»ç¤¾åŒºæ”¯æŒã€‚

---

**æœ€åæ›´æ–°**: 2025-01-XX
**ç‰ˆæœ¬**: 1.0.0
